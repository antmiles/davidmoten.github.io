<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript">
        
    function getSearchParameters() {
      var prmstr = window.location.search.substr(1);
      return prmstr != null && prmstr != "" ? transformToAssocArray(prmstr) : {};
    }

    function transformToAssocArray( prmstr ) {
        var params = {};
        var prmarr = prmstr.split("&");
        for ( var i = 0; i < prmarr.length; i++) {
            var tmparr = prmarr[i].split("=");
            params[tmparr[0]] = tmparr[1];
        }
        return params;
    }

    var params = getSearchParameters();

    function processParameters() {
       document.getElementById("tbl").innerHTML="someContent";  
       console.log(params);
       var a = params.a.split(',');
       var b = params.b.split(',');
       for (i = 0;i < a.length - 1;i++) {
            var a1 = parseInt(a[i]);
            var a2 = parseInt(a[i+1]);
            var b1 = parseFloat(b[i]);
            var b2 = parseFloat(b[i+1]);
            for (d = a1; d > a2; d--) {
               var v = b1 + (d - a1)/(a2 - a1) * (b2 - b1);
               console.log(d + " -> " + v);
            }
       }
       console.log(a[a.length - 1] + " -> " + b[a.length-1]);
       console.log("a = " + a);
       console.log("b = " + b);
    }
   
     window.onload = processParameters;
   
       </script>
    </head>
    <body>
       <div id="tbl"></div>   
    </body>
</html>
